webpackJsonp([8],{"5/rZ":function(e,t,i){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fpsLock:60},i=t.fpsLock,n=t.debug,r=0,a=!0,s=+(1e3/i).toFixed(2);return document.addEventListener("visibilitychange",function(e){a="hidden"!==document.visibilityState}),window.animationFrameId=requestAnimationFrame(function t(i){a&&(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=t-r;if(i>s){var a={timeCounter:r=Math.floor(t),animationFrameId:window.animationFrameId};n&&(a.fps=Math.ceil(1e3/i)),e(a)}}(i),window.animationFrameId=requestAnimationFrame(t))}),window.animationFrameId}},"Z/0s":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("5/rZ"),r=(i("egSr"),i("JaHG").b||{}),a={data:function(){return{fpsLock:10,debug:!0,can:{},ctx:null,oImg:null,htmlArr:[],textAreaArr:[],charNode:"",lineHeight:1.5,picIndex:0,dir:-1,showText:"",showHtml:"",showChar:"",imgList:[i.e(5).then(i.bind(null,"yVVm"))]}},mounted:function(){this.initCan(),this.loadImg(),window.textAreaArr=this.textAreaArr},methods:{loop:function(e){var t=this.debug?"FPS: "+e.fps+" --- ":"";this.showText=t+"KeepTime: "+Math.floor(e.timeCounter/1e3)+" s",this.render(e.timeCounter/1e3)},render:function(){this.showHtml=this.htmlArr[this.picIndex],this.showChar=this.textAreaArr[this.picIndex],13!=this.picIndex&&0!=this.picIndex||(this.dir=0-this.dir),this.picIndex+=this.dir},initCan:function(){this.can=this.$refs.can,this.ctx=this.can.getContext("2d")},loadImg:function(){var e=this,t=new Image,i=0;function r(){this.imgList[i++].then(function(e){t.src=e})}t.onload=function(a){e.oImg=t,setTimeout(function(){e.drawCan(),e.imgList[i]?r.call(e):e.htmlArr.length>1?Object(n.a)(e.loop,{fpsLock:e.fpsLock,debug:e.debug}):(console.log(1111),e.showHtml=e.htmlArr[0])},0)},r.call(this)},drawCan:function(){var e=this.can,t=this.ctx,i=this.oImg;e.width=i.width>100?100:i.width,e.height=.63*e.width/this.lineHeight,t.drawImage(i,0,0,i.width,i.height,0,0,e.width,e.height);var n=t.getImageData(0,0,e.width,e.height);this.takehtmlArr(n)},takehtmlArr:function(e){for(var t=[],i=0,n=e.data,a=n.length;i<a;i+=4){if(0!==n[i+3]){var s=this.getText((n[i]+n[i+1]+n[i+2])/3);t[i]=s}else t[i]=r[0];Math.floor(i/4)%e.width==e.width-1&&(t[i]=r[0]+"\n")}this.charNode=t.join(""),this.textAreaArr.push(this.charNode),this.htmlArr.push(this.charNode.replace(/\n/g,"</br>")),window.htmlArr=this.htmlArr},getText:function(e){e=255-e;var t="";for(var i in r){if(!(i<=e))return t;t=r[i]}return t}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"code-pic-wrap"},[i("p",[e._v(e._s(e.showText))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"J_img_box",staticClass:"J_img_box"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"can-box"},[i("canvas",{ref:"can",staticClass:"can",attrs:{id:"can",width:"200",height:"200"}})]),e._v(" "),i("div",{staticClass:"char_box",style:{transform:e.can.width>10?"scale(.5)":"","line-height":e.lineHeight}},[i("tt",{domProps:{innerHTML:e._s(e.showHtml)}})],1)])},staticRenderFns:[]};var o=i("VU/8")(a,s,!1,function(e){i("sB8W")},"data-v-794ff2f3",null);t.default=o.exports},egSr:function(e,t,i){var n=function(e){return e.reduce(function(e,t){return 2*e+t},0)},r=function(e){for(var t=[],i=7;i>=0;i--)t.push(!!(e&1<<i));return t};t.Stream=function(e){this.data=e,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return 255&e.charCodeAt(this.pos++)},this.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.readByte());return t},this.read=function(e){for(var t="",i=0;i<e;i++)t+=String.fromCharCode(this.readByte());return t},this.readUnsigned=function(){var e=this.readBytes(2);return(e[1]<<8)+e[0]}},t.parseGIF=function(e,t){t||(t={});var i=function(t){for(var i=[],n=0;n<t;n++)i.push(e.readBytes(3));return i},a=function(){var t,i;i="";do{t=e.readByte(),i+=e.read(t)}while(0!==t);return i},s=function(s){s.leftPos=e.readUnsigned(),s.topPos=e.readUnsigned(),s.width=e.readUnsigned(),s.height=e.readUnsigned();var o=r(e.readByte());s.lctFlag=o.shift(),s.interlaced=o.shift(),s.sorted=o.shift(),s.reserved=o.splice(0,2),s.lctSize=n(o.splice(0,3)),s.lctFlag&&(s.lct=i(1<<s.lctSize+1)),s.lzwMinCodeSize=e.readByte();var d=a();s.pixels=function(e,t){for(var i,n,r=0,a=function(e){for(var i=0,n=0;n<e;n++)t.charCodeAt(r>>3)&1<<(7&r)&&(i|=1<<n),r++;return i},s=[],o=1<<e,d=o+1,h=e+1,c=[],l=function(){c=[],h=e+1;for(var t=0;t<o;t++)c[t]=[t];c[o]=[],c[d]=null};;)if(n=i,(i=a(h))!==o){if(i===d)break;if(i<c.length)n!==o&&c.push(c[n].concat(c[i][0]));else{if(i!==c.length)throw new Error("Invalid LZW code.");c.push(c[n].concat(c[n][0]))}s.push.apply(s,c[i]),c.length===1<<h&&h<12&&h++}else l();return s}(s.lzwMinCodeSize,d),s.interlaced&&(s.pixels=function(e,t){for(var i=new Array(e.length),n=e.length/t,r=function(n,r){var a=e.slice(r*t,(r+1)*t);i.splice.apply(i,[n*t,t].concat(a))},a=[0,4,2,1],s=[8,8,4,2],o=0,d=0;d<4;d++)for(var h=a[d];h<n;h+=s[d])r(h,o),o++;return i}(s.pixels,s.width)),t.img&&t.img(s)},o=function i(){var o={};switch(o.sentinel=e.readByte(),String.fromCharCode(o.sentinel)){case"!":o.type="ext",function(i){switch(i.label=e.readByte(),i.label){case 249:i.extType="gce",function(i){e.readByte();var a=r(e.readByte());i.reserved=a.splice(0,3),i.disposalMethod=n(a.splice(0,3)),i.userInput=a.shift(),i.transparencyGiven=a.shift(),i.delayTime=e.readUnsigned(),i.transparencyIndex=e.readByte(),i.terminator=e.readByte(),t.gce&&t.gce(i)}(i);break;case 254:i.extType="com",function(e){e.comment=a(),t.com&&t.com(e)}(i);break;case 1:i.extType="pte",function(i){e.readByte(),i.ptHeader=e.readBytes(12),i.ptData=a(),t.pte&&t.pte(i)}(i);break;case 255:i.extType="app",function(i){switch(e.readByte(),i.identifier=e.read(8),i.authCode=e.read(3),i.identifier){case"NETSCAPE":!function(i){e.readByte(),i.unknown=e.readByte(),i.iterations=e.readUnsigned(),i.terminator=e.readByte(),t.app&&t.app.NETSCAPE&&t.app.NETSCAPE(i)}(i);break;default:!function(e){e.appData=a(),t.app&&t.app[e.identifier]&&t.app[e.identifier](e)}(i)}}(i);break;default:i.extType="unknown",function(e){e.data=a(),t.unknown&&t.unknown(e)}(i)}}(o);break;case",":o.type="img",s(o);break;case";":o.type="eof",t.eof&&t.eof(o);break;default:throw new Error("Unknown block: 0x"+o.sentinel.toString(16))}"eof"!==o.type&&setTimeout(i,0)};!function(){var a={};if(a.sig=e.read(3),a.ver=e.read(3),"GIF"!==a.sig)throw new Error("Not a GIF file.");a.width=e.readUnsigned(),a.height=e.readUnsigned();var s=r(e.readByte());a.gctFlag=s.shift(),a.colorRes=n(s.splice(0,3)),a.sorted=s.shift(),a.gctSize=n(s.splice(0,3)),a.bgColor=e.readByte(),a.pixelAspectRatio=e.readByte(),a.gctFlag&&(a.gct=i(1<<a.gctSize+1)),t.hdr&&t.hdr(a)}(),setTimeout(o,0)}},sB8W:function(e,t){}});